# Mock/testing configuration for Ernest
#
# Copy this file to `.env` when you want to run the Flask UI or CLI with
# ultra-lightweight models and relaxed auth suitable for automated tests.

# Disable the passphrase gate so UI smoke tests can sign in without secrets.
ERNEST_PASSPHRASE_WHITELIST=""
ERNEST_PASSPHRASE_WHITELIST_ENABLED=false

# Provide a deterministic secret key for Flask sessions in tests.
ERNEST_WEB_SECRET=mock-session-secret

# Limit worker fan-out to reduce resource usage during local runs.
ERNEST_WORKERS=1

# Point every LLM profile at the tiny GPT-2 checkpoint shipped by Hugging Face
# for pipeline tests. The model is only 10 MB and satisfies the text-generation
# interface used by the service.
MIGRATION_PROFILE_CLASSIFY_ID=sshleifer/tiny-gpt2
MIGRATION_PROFILE_ANALYZE_ID=sshleifer/tiny-gpt2
MIGRATION_PROFILE_TRANSLATE_ID=sshleifer/tiny-gpt2
MIGRATION_PROFILE_ADAPT_ID=sshleifer/tiny-gpt2
MIGRATION_PROFILE_SCAFFOLD_ID=sshleifer/tiny-gpt2
MIGRATION_PROFILE_DEPENDENCY_ID=sshleifer/tiny-gpt2
MIGRATION_PROFILE_COMPATIBILITY_ID=sshleifer/tiny-gpt2
MIGRATION_PROFILE_BLUEPRINT_ID=sshleifer/tiny-gpt2
MIGRATION_PROFILE_CONTAINER_ID=sshleifer/tiny-gpt2

# Keep generations short so the mock pipeline stays responsive.
MIGRATION_PROFILE_CLASSIFY_MAX_TOKENS=64
MIGRATION_PROFILE_ANALYZE_MAX_TOKENS=64
MIGRATION_PROFILE_TRANSLATE_MAX_TOKENS=128
MIGRATION_PROFILE_ADAPT_MAX_TOKENS=64
MIGRATION_PROFILE_SCAFFOLD_MAX_TOKENS=128
MIGRATION_PROFILE_DEPENDENCY_MAX_TOKENS=128
MIGRATION_PROFILE_COMPATIBILITY_MAX_TOKENS=128
MIGRATION_PROFILE_BLUEPRINT_MAX_TOKENS=128
MIGRATION_PROFILE_CONTAINER_MAX_TOKENS=64

# Force deterministic sampling so test assertions remain stable.
MIGRATION_PROFILE_CLASSIFY_TEMP=0.0
MIGRATION_PROFILE_ANALYZE_TEMP=0.0
MIGRATION_PROFILE_TRANSLATE_TEMP=0.0
MIGRATION_PROFILE_ADAPT_TEMP=0.0
MIGRATION_PROFILE_SCAFFOLD_TEMP=0.0
MIGRATION_PROFILE_DEPENDENCY_TEMP=0.0
MIGRATION_PROFILE_COMPATIBILITY_TEMP=0.0
MIGRATION_PROFILE_BLUEPRINT_TEMP=0.0
MIGRATION_PROFILE_CONTAINER_TEMP=0.0

# Optional: set HF_TOKEN if you need to authenticate to download the tiny
# checkpoint the first time. Subsequent runs can be offline.
# HF_TOKEN=hf_xxx
